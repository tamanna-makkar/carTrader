{"remainingRequest":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/babel-loader/lib/index.js!/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/ts-loader/index.js??ref--14-2!/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/eslint-loader/index.js??ref--13-0!/home/tamanna/htdocs/carconfiguratorfrontend/src/api/noAuth.ts","dependencies":[{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/src/api/noAuth.ts","mtime":1678204643778},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/cache-loader/dist/cjs.js","mtime":1691610247617},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/babel-loader/lib/index.js","mtime":1691610247572},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/ts-loader/index.js","mtime":1691610259533},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/eslint-loader/index.js","mtime":1691610259081}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3RhbWFubmEvaHRkb2NzL2NhcmNvbmZpZ3VyYXRvcmZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS90YW1hbm5hL2h0ZG9jcy9jYXJjb25maWd1cmF0b3Jmcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9ob21lL3RhbWFubmEvaHRkb2NzL2NhcmNvbmZpZ3VyYXRvcmZyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL2hvbWUvdGFtYW5uYS9odGRvY3MvY2FyY29uZmlndXJhdG9yZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgQmFzZUFwaSB9IGZyb20gJy4vYmFzZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnQC9yb3V0ZXInOwppbXBvcnQgeyBWdWVDb29raWVOZXh0IH0gZnJvbSAndnVlLWNvb2tpZS1uZXh0JzsKCnZhciBOb0F1dGhBcGkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlQXBpKSB7CiAgX2luaGVyaXRzKE5vQXV0aEFwaSwgX0Jhc2VBcGkpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKE5vQXV0aEFwaSk7CgogIGZ1bmN0aW9uIE5vQXV0aEFwaSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9BdXRoQXBpKTsKCiAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb2Nlc3MuZW52LlZVRV9BUFBfQVBJX1VSTCk7CgogICAgX3RoaXMuX2hhbmRsZVJlcXVlc3QgPSBmdW5jdGlvbiAoY29uZmlnKSB7CiAgICAgIGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICByZXR1cm4gY29uZmlnOwogICAgfTsKCiAgICBfdGhpcy5wb3N0VXNlckxvZ0luID0gZnVuY3Rpb24gKGJvZHkpIHsKICAgICAgcmV0dXJuIF90aGlzLmluc3RhbmNlLnBvc3QoImFwaS9sb2dpbl9jaGVjayIsIGJvZHkpOwogICAgfTsKCiAgICBfdGhpcy5mb3JnZXRQYXNzd29yZCA9IGZ1bmN0aW9uIChsYW5nLCBib2R5KSB7CiAgICAgIHJldHVybiBfdGhpcy5pbnN0YW5jZS5wb3N0KCJwYXNzd29yZC9mb3Jnb3QvIi5jb25jYXQobGFuZyksIGJvZHkpOwogICAgfTsKCiAgICBfdGhpcy5yZXNldFBhc3N3b3JkID0gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgcmV0dXJuIF90aGlzLmluc3RhbmNlLnBvc3QoInBhc3N3b3JkL3Jlc2V0LyIuY29uY2F0KGRhdGFbJ2VtYWlsJ10sICIvIikuY29uY2F0KGRhdGFbJ2FjdGl2YXRpb25LZXknXSksIGRhdGFbJ2JvZHknXSk7CiAgICB9OwoKICAgIF90aGlzLl9oYW5kbGVFcnJvciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGVycm9yKSB7CiAgICAgICAgdmFyIHN0YXR1czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhdHVzID0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBzdGF0dXM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gX2NvbnRleHQudDAgPT09IDQwMSA/IDUgOiAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBWdWVDb29raWVOZXh0LnJlbW92ZUNvb2tpZSgnY29tcGFueUlkJyk7CiAgICAgICAgICAgICAgICBWdWVDb29raWVOZXh0LnJlbW92ZUNvb2tpZSgnYWRtaW5Db21wYW55SWQnKTsKICAgICAgICAgICAgICAgIFZ1ZUNvb2tpZU5leHQucmVtb3ZlQ29va2llKCdlbXBsb3llZUNhclBvbGljeUlkJyk7CiAgICAgICAgICAgICAgICBWdWVDb29raWVOZXh0LnJlbW92ZUNvb2tpZSgncm9sZXMnKTsKICAgICAgICAgICAgICAgIFZ1ZUNvb2tpZU5leHQucmVtb3ZlQ29va2llKCdsYXRlc3RjYXJPcmRlcklkJyk7CiAgICAgICAgICAgICAgICBWdWVDb29raWVOZXh0LnJlbW92ZUNvb2tpZSgnc3RhdHVzJyk7CiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdsb2dpbicKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoZXJyb3IpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ0Vycm9yUGFnZScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoZXJyb3IpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgaWYgKCFlcnJvci5yZXF1ZXN0KSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QoZXJyb3IpKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KGVycm9yKSk7CgogICAgICAgICAgICAgIGNhc2UgMjQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgX3RoaXMuaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShfdGhpcy5faGFuZGxlUmVzcG9uc2UsIF90aGlzLl9oYW5kbGVFcnJvcik7CgogICAgX3RoaXMuaW5zdGFuY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKF90aGlzLl9oYW5kbGVSZXF1ZXN0KTsKCiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICByZXR1cm4gTm9BdXRoQXBpOwp9KEJhc2VBcGkpOwoKdmFyIG5vQXV0aEFwaSA9IG5ldyBOb0F1dGhBcGkoKTsKZXhwb3J0IGRlZmF1bHQgbm9BdXRoQXBpOw=="},{"version":3,"sources":["/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/eslint-loader/index.js??ref--13-0!/home/tamanna/htdocs/carconfiguratorfrontend/src/api/noAuth.ts"],"names":[],"mappings":";;;;;;;AAAA,SAAS,OAAT,QAAwB,QAAxB;AAGA,OAAO,MAAP,MAAmB,UAAnB;AAEA,SAAS,aAAT,QAA8B,iBAA9B;;IAEM,S;;;;;AACF,uBAAA;AAAA;;AAAA;;AACI,8BAAM,OAAO,CAAC,GAAR,CAAY,eAAlB;;AAIM,UAAA,cAAA,GAAiB,UAAC,MAAD,EAA+B;AACtD,MAAA,MAAM,CAAC,eAAP,GAAyB,IAAzB;AACA,aAAO,MAAP;AACH,KAHS;;AAIH,UAAA,aAAA,GAAgB,UAAC,IAAD;AAAA,aAA4B,MAAK,QAAL,CAAc,IAAd,oBAAyD,IAAzD,CAA5B;AAAA,KAAhB;;AACA,UAAA,cAAA,GAAiB,UAAC,IAAD,EAAe,IAAf;AAAA,aAAmD,MAAK,QAAL,CAAc,IAAd,2BAAkE,IAAlE,GAA0E,IAA1E,CAAnD;AAAA,KAAjB;;AACA,UAAA,aAAA,GAAgB,UAAC,IAAD;AAAA,aAAgC,MAAK,QAAL,CAAc,IAAd,0BAA4D,IAAI,CAAC,OAAD,CAAhE,cAA6E,IAAI,CAAC,eAAD,CAAjF,GAAsG,IAAI,CAAC,MAAD,CAA1G,CAAhC;AAAA,KAAhB;;AACG,UAAA,YAAA;AAAA,yEAAe,iBAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACjB,KAAK,CAAC,QADW;AAAA;AAAA;AAAA;;AAET,gBAAA,MAFS,GAEE,KAAK,CAAC,QAFR,CAET,MAFS;AAAA,8BAGT,MAHS;AAAA,gDAIR,GAJQ;AAAA;;AAAA;AAKT,gBAAA,aAAa,CAAC,YAAd,CAA2B,WAA3B;AACA,gBAAA,aAAa,CAAC,YAAd,CAA2B,gBAA3B;AACA,gBAAA,aAAa,CAAC,YAAd,CAA2B,qBAA3B;AACA,gBAAA,aAAa,CAAC,YAAd,CAA2B,OAA3B;AACA,gBAAA,aAAa,CAAC,YAAd,CAA2B,kBAA3B;AACA,gBAAA,aAAa,CAAC,YAAd,CAA2B,QAA3B;AACA,gBAAA,cAAc,CAAC,KAAf;AACA,gBAAA,YAAY,CAAC,KAAb;AACA,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;AAbS,iDAcF,OAAO,CAAC,MAAR,CAAe,KAAf,CAdE;;AAAA;AAgBT,gBAAA,MAAM,CAAC,IAAP,CAAY;AAAE,kBAAA,IAAI,EAAE;AAAR,iBAAZ;AAhBS,iDAiBF,OAAO,CAAC,MAAR,CAAe,KAAf,CAjBE;;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAmBV,KAAK,CAAC,OAnBI;AAAA;AAAA;AAAA;;AAAA,iDAuBV,OAAO,CAAC,MAAR,CAAe,KAAf,CAvBU;;AAAA;AAAA,iDA0BV,OAAO,CAAC,MAAR,CAAe,KAAf,CA1BU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAf;;AAAA;AAAA;AAAA;AAAA;;AAVN,UAAK,QAAL,CAAc,YAAd,CAA2B,QAA3B,CAAoC,GAApC,CAAwC,MAAK,eAA7C,EAA8D,MAAK,YAAnE;;AACA,UAAK,QAAL,CAAc,YAAd,CAA2B,OAA3B,CAAmC,GAAnC,CAAuC,MAAK,cAA5C;;AAHJ;AAIC;;;EALmB,O;;AA4CxB,IAAM,SAAS,GAAc,IAAI,SAAJ,EAA7B;AAEA,eAAe,SAAf","sourcesContent":["import { BaseApi } from './base'\nimport { UserForgetPasswordRequest, UserForgetPasswordResponse, UserLogInRequest, UserLogInResponse, resetPasswordRequest, resetPasswordResponse } from '../types'\nimport { AxiosRequestConfig } from 'axios'\nimport router from '@/router'\nimport { AxiosError } from 'axios'\nimport { VueCookieNext } from 'vue-cookie-next'\n\nclass NoAuthApi extends BaseApi {\n    public constructor() {\n        super(process.env.VUE_APP_API_URL)\n        this.instance.interceptors.response.use(this._handleResponse, this._handleError)\n        this.instance.interceptors.request.use(this._handleRequest)\n    }\n    protected _handleRequest = (config: AxiosRequestConfig) => {\n        config.withCredentials = true\n        return config\n    }\n    public postUserLogIn = (body: UserLogInRequest) => this.instance.post<UserLogInResponse>(`api/login_check`, body)\n    public forgetPassword = (lang: string, body: UserForgetPasswordRequest) => this.instance.post<UserForgetPasswordResponse>(`password/forgot/${lang}`, body)\n    public resetPassword = (data: resetPasswordRequest) => this.instance.post<resetPasswordResponse>(`password/reset/${data['email']}/${data['activationKey']}`, data['body'])\n    protected _handleError = async (error: AxiosError) => {\n        if (error.response) {\n            const { status } = error.response\n            switch (status) {\n                case 401:\n                    VueCookieNext.removeCookie('companyId')\n                    VueCookieNext.removeCookie('adminCompanyId')\n                    VueCookieNext.removeCookie('employeeCarPolicyId')\n                    VueCookieNext.removeCookie('roles')\n                    VueCookieNext.removeCookie('latestcarOrderId')\n                    VueCookieNext.removeCookie('status')\n                    sessionStorage.clear()\n                    localStorage.clear()\n                    router.push({ name: 'login' })\n                    return Promise.reject(error)\n                default:\n                    router.push({ name: 'ErrorPage' })\n                    return Promise.reject(error)\n            }\n        } else if (error.request) {\n            // The request was made but no response was received\n            // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n            // http.ClientRequest in node.js\n            return Promise.reject(error)\n        } else {\n            // Something happened in setting up the request that triggered an Error\n            return Promise.reject(error)\n        }\n    }\n}\n\nconst noAuthApi: NoAuthApi = new NoAuthApi()\n\nexport default noAuthApi\n"],"sourceRoot":""}]}