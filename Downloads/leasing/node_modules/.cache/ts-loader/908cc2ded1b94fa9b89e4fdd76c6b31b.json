{"remainingRequest":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/babel-loader/lib/index.js!/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/ts-loader/index.js??ref--14-2!/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/tamanna/htdocs/carconfiguratorfrontend/src/views/Discount.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/src/views/Discount.vue","mtime":1691610165536},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/cache-loader/dist/cjs.js","mtime":1691610247617},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/babel-loader/lib/index.js","mtime":1691610247572},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/ts-loader/index.js","mtime":1691610259533},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/cache-loader/dist/cjs.js","mtime":1691610247617},{"path":"/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/vue-loader-v16/dist/index.js","mtime":1691610261934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvdGFtYW5uYS9odGRvY3MvY2FyY29uZmlndXJhdG9yZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQsIHJlZiwgcmVhY3RpdmUsIGNvbXB1dGVkLCBvbk1vdW50ZWQsIHdhdGNoLCBvblVubW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBJbnB1dCBmcm9tICdAL2NvbXBvbmVudHMvVUkvSW5wdXQudnVlJzsKaW1wb3J0IElucHV0RWxlbWVudCBmcm9tICdAL2NvbXBvbmVudHMvVUkvSW5wdXQudnVlJzsKaW1wb3J0IENoZWNrYm94IGZyb20gJ0AvY29tcG9uZW50cy9VSS9DaGVja2JveC52dWUnOwppbXBvcnQgQnV0dG9uIGZyb20gJ0AvY29tcG9uZW50cy9VSS9CdXR0b24udnVlJzsKaW1wb3J0IERyb3Bkb3duIGZyb20gJ0AvY29tcG9uZW50cy9VSS9Ecm9wZG93bi52dWUnOwppbXBvcnQgUG9wdXAgZnJvbSAnQC9jb21wb25lbnRzL1VJL1BvcHVwLnZ1ZSc7CmltcG9ydCBMb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL1VJL0xvYWRlci52dWUnOwppbXBvcnQgTWVzc2FnZUJhciBmcm9tICdAL2NvbXBvbmVudHMvVUkvTWVzc2FnZUJhci52dWUnOwppbXBvcnQgSGllcmFyY2h5Um93IGZyb20gJ0AvY29tcG9uZW50cy9VSS9IaWVyYXJjaHlSb3cudnVlJzsKaW1wb3J0IHsgRGlzY291bnRzQWN0aW9uVHlwZXMgfSBmcm9tICdAL3N0b3JlL2Rpc2NvdW50cy9hY3Rpb25zJzsKaW1wb3J0IHsgQWN0aW9uVHlwZXMgfSBmcm9tICdAL3N0b3JlL29wdGlvbnMvYWN0aW9ucyc7CmltcG9ydCBQb3B1cEVsZW1lbnQgZnJvbSAnQC9jb21wb25lbnRzL1BvcHVwLnZ1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAnQC9zdG9yZSc7CmltcG9ydCB7IENvbXBhbnlBY3Rpb25UeXBlcyB9IGZyb20gJ0Avc3RvcmUvY29tcGFueSc7CmltcG9ydCBnZXRDb21wYW55IGZyb20gJ0AvbWl4aW5zL2dldENvbXBhbnknOwppbXBvcnQgeyB1c2VSb3V0ZSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgTXV0YXRpb25UeXBlcyB9IGZyb20gJ0Avc3RvcmUvb3B0aW9ucy9tdXRhdGlvbnMnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdEaXNjb3VudCcsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciByb3V0ZSA9IHVzZVJvdXRlKCk7CiAgICB2YXIgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICB2YXIgcm9sZXMgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc3RvcmUkc3RhdGUkYXV0aCRjdXI7CgogICAgICByZXR1cm4gKF9zdG9yZSRzdGF0ZSRhdXRoJGN1ciA9IHN0b3JlLnN0YXRlLmF1dGguY3VycmVudFVzZXIpID09PSBudWxsIHx8IF9zdG9yZSRzdGF0ZSRhdXRoJGN1ciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3N0b3JlJHN0YXRlJGF1dGgkY3VyLnJvbGVzOwogICAgfSk7CiAgICB2YXIgbG9hZGVyID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUuZGlzY291bnRzLmxvYWRlcjsKICAgIH0pOwogICAgdmFyIGNvbXBvbmVudEtleSA9IHJlZigwKTsKCiAgICB2YXIgX2dldENvbXBhbnkgPSBnZXRDb21wYW55KCksCiAgICAgICAgY29tcElkID0gX2dldENvbXBhbnkuY29tcElkLAogICAgICAgIGNvbXBhbnlEZXRhaWxTdGF0ZSA9IF9nZXRDb21wYW55LmNvbXBhbnlEZXRhaWxTdGF0ZTsKCiAgICB2YXIgY2FyQnJhbmRzTW9kZWxzTGV2ZWxzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUub3B0aW9ucy5jYXJCcmFuZHNNb2RlbHNMZXZlbHM7CiAgICB9KTsKICAgIHZhciBmb3VuZEJyYW5kcyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGZpbEJyYW5kcyA9IGNhckJyYW5kc01vZGVsc0xldmVscy52YWx1ZTsKCiAgICAgIGlmIChzdG9yZS5zdGF0ZS5vcHRpb25zLnNlYXJjaFN0cmluZy5sZW5ndGggPiAwKSB7CiAgICAgICAgZmlsQnJhbmRzID0gZmlsQnJhbmRzLmZpbHRlcihmdW5jdGlvbiAoYnJhbmQpIHsKICAgICAgICAgIHJldHVybiBicmFuZC5icmFuZC50b0xvd2VyQ2FzZSgpLm5vcm1hbGl6ZSgnTkZEJykucmVwbGFjZSgvKD86W1xeYFx4QThceEFGXHhCNFx4QjdceEI4XHUwMkIwLVx1MDM0RVx1MDM1MC1cdTAzNTdcdTAzNUQtXHUwMzYyXHUwMzc0XHUwMzc1XHUwMzdBXHUwMzg0XHUwMzg1XHUwNDgzLVx1MDQ4N1x1MDU1OVx1MDU5MS1cdTA1QTFcdTA1QTMtXHUwNUJEXHUwNUJGXHUwNUMxXHUwNUMyXHUwNUM0XHUwNjRCLVx1MDY1Mlx1MDY1N1x1MDY1OFx1MDZERlx1MDZFMFx1MDZFNVx1MDZFNlx1MDZFQS1cdTA2RUNcdTA3MzAtXHUwNzRBXHUwN0E2LVx1MDdCMFx1MDdFQi1cdTA3RjVcdTA4MThcdTA4MTlcdTA4RTMtXHUwOEZFXHUwOTNDXHUwOTREXHUwOTUxLVx1MDk1NFx1MDk3MVx1MDlCQ1x1MDlDRFx1MEEzQ1x1MEE0RFx1MEFCQ1x1MEFDRFx1MEFGRC1cdTBBRkZcdTBCM0NcdTBCNERcdTBCNTVcdTBCQ0RcdTBDNERcdTBDQkNcdTBDQ0RcdTBEM0JcdTBEM0NcdTBENERcdTBEQ0FcdTBFNDctXHUwRTRDXHUwRTRFXHUwRUJBXHUwRUM4LVx1MEVDQ1x1MEYxOFx1MEYxOVx1MEYzNVx1MEYzN1x1MEYzOVx1MEYzRVx1MEYzRlx1MEY4Mi1cdTBGODRcdTBGODZcdTBGODdcdTBGQzZcdTEwMzdcdTEwMzlcdTEwM0FcdTEwNjNcdTEwNjRcdTEwNjktXHUxMDZEXHUxMDg3LVx1MTA4RFx1MTA4Rlx1MTA5QVx1MTA5Qlx1MTM1RC1cdTEzNUZcdTE3QzktXHUxN0QzXHUxN0REXHUxOTM5LVx1MTkzQlx1MUE3NS1cdTFBN0NcdTFBN0ZcdTFBQjAtXHUxQUJEXHUxQjM0XHUxQjQ0XHUxQjZCLVx1MUI3M1x1MUJBQVx1MUJBQlx1MUMzNlx1MUMzN1x1MUM3OC1cdTFDN0RcdTFDRDAtXHUxQ0U4XHUxQ0VEXHUxQ0Y0XHUxQ0Y3LVx1MUNGOVx1MUQyQy1cdTFENkFcdTFEQzQtXHUxRENGXHUxREY1LVx1MURGOVx1MURGRC1cdTFERkZcdTFGQkRcdTFGQkYtXHUxRkMxXHUxRkNELVx1MUZDRlx1MUZERC1cdTFGREZcdTFGRUQtXHUxRkVGXHUxRkZEXHUxRkZFXHUyQ0VGLVx1MkNGMVx1MkUyRlx1MzAyQS1cdTMwMkZcdTMwOTktXHUzMDlDXHUzMEZDXHVBNjZGXHVBNjdDXHVBNjdEXHVBNjdGXHVBNjlDXHVBNjlEXHVBNkYwXHVBNkYxXHVBNzAwLVx1QTcyMVx1QTc4OC1cdUE3OEFcdUE3RjhcdUE3RjlcdUE4QzRcdUE4RTAtXHVBOEYxXHVBOTJCLVx1QTkyRVx1QTk1M1x1QTlCM1x1QTlDMFx1QTlFNVx1QUE3Qi1cdUFBN0RcdUFBQkYtXHVBQUMyXHVBQUY2XHVBQjVCLVx1QUI1Rlx1QUI2OS1cdUFCNkJcdUFCRUNcdUFCRURcdUZCMUVcdUZFMjAtXHVGRTJGXHVGRjNFXHVGRjQwXHVGRjcwXHVGRjlFXHVGRjlGXHVGRkUzXXxcdUQ4MDBcdURFRTB8XHVEODAyW1x1REVFNVx1REVFNl18XHVEODAzW1x1REQyMi1cdUREMjdcdURGNDYtXHVERjUwXXxcdUQ4MDRbXHVEQ0I5XHVEQ0JBXHVERDMzXHVERDM0XHVERDczXHVEREMwXHVERENBLVx1RERDQ1x1REUzNVx1REUzNlx1REVFOVx1REVFQVx1REYzQ1x1REY0RFx1REY2Ni1cdURGNkNcdURGNzAtXHVERjc0XXxcdUQ4MDVbXHVEQzQyXHVEQzQ2XHVEQ0MyXHVEQ0MzXHVEREJGXHVEREMwXHVERTNGXHVERUI2XHVERUI3XHVERjJCXXxcdUQ4MDZbXHVEQzM5XHVEQzNBXHVERDNEXHVERDNFXHVERDQzXHVEREUwXHVERTM0XHVERTQ3XHVERTk5XXxcdUQ4MDdbXHVEQzNGXHVERDQyXHVERDQ0XHVERDQ1XHVERDk3XXxcdUQ4MUFbXHVERUYwLVx1REVGNFx1REYzMC1cdURGMzZdfFx1RDgxQltcdURGOEYtXHVERjlGXHVERkYwXHVERkYxXXxcdUQ4MzRbXHVERDY3LVx1REQ2OVx1REQ2RC1cdURENzJcdUREN0ItXHVERDgyXHVERDg1LVx1REQ4Qlx1RERBQS1cdUREQURdfFx1RDgzOFtcdUREMzAtXHVERDM2XHVERUVDLVx1REVFRl18XHVEODNBW1x1RENEMC1cdURDRDZcdURENDQtXHVERDQ2XHVERDQ4LVx1REQ0QV0pL2csICcnKS5pbmRleE9mKHN0b3JlLnN0YXRlLm9wdGlvbnMuc2VhcmNoU3RyaW5nLnRvTG93ZXJDYXNlKCkpICE9PSAtMTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZpbEJyYW5kczsKICAgIH0pOwogICAgdmFyIGZpbHRlcmVkQnJhbmRzID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gZm91bmRCcmFuZHMudmFsdWUubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGxhYmVsOiBpdGVtLmJyYW5kLAogICAgICAgICAgdmFsdWU6IGl0ZW0uYnJhbmRfMTExCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKICAgIHZhciBmaWx0ZXJlZE1vZGVscyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuZmlsdGVyZWRNb2RlbHM7CiAgICB9KTsKICAgIHZhciBmaWx0ZXJlZExldmVscyA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLmdldHRlcnMuZmlsdGVyZWRMZXZlbHM7CiAgICB9KTsKICAgIHZhciBnZXRDYXJCcmFuZHNEaXNjb3VudCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmRpc2NvdW50cy5nZXRDYXJCcmFuZHNEaXNjb3VudDsKICAgIH0pOwogICAgdmFyIHNldERpc2NvdW50UmVzcG9uc2UgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5kaXNjb3VudHMuc2V0RGlzY291bnRSZXNwb25zZTsKICAgIH0pOwogICAgdmFyIHNvcnRPcmRlciA9IHJlZignYXNjJyk7CiAgICB2YXIgZmlsdGVyRGF0YSA9IHJlZihbXSk7CiAgICB2YXIgdXBkYXRlRGF0YSA9IHJlYWN0aXZlKHt9KTsKICAgIHZhciB0bXBEaXNjb3VudCA9IHJlZigpOwogICAgdmFyIHNlbGVjdGVkTm9kZXMgPSByZWYoW10pOwogICAgdmFyIG9wZW5lZE5vZGVzID0gcmVmKFtdKTsKICAgIHZhciBzaG93UG9wVXAgPSByZWYoZmFsc2UpOwogICAgdmFyIHNob3dDb25maXJtYXRpb25Qb3B1cCA9IHJlZihmYWxzZSk7CiAgICB2YXIgcmVzZXREaXNjb3VudCA9IHJlZihmYWxzZSk7CiAgICB2YXIgc2hvd0lucHV0Qm94ID0gcmVmKDApOwogICAgdmFyIGNhckhlYWRpbmdzID0gcmVhY3RpdmUoW3sKICAgICAgaWQ6ICdjYXJfaGVhZGluZzEnLAogICAgICB2YWx1ZTogJ2Nhcl9oZWFkaW5nMScsCiAgICAgIGtleTogJ2NhcnMnCiAgICB9LCB7CiAgICAgIGlkOiAnZGlzX2hlYWRpbmcyJywKICAgICAgdmFsdWU6ICdkaXNfaGVhZGluZzInLAogICAgICBrZXk6ICdkaXNjb3VudCcKICAgIH1dKTsKICAgIHZhciBmaWx0ZXJzQ2hlY2tzID0gcmVhY3RpdmUoW3sKICAgICAgaWQ6ICdkcml2ZXJfYmVuZWZpdCcsCiAgICAgIHZhbHVlOiBmYWxzZQogICAgfSwgewogICAgICBpZDogJ3dpdGhvdXRfZGlzY291bnQnLAogICAgICB2YWx1ZTogZmFsc2UKICAgIH1dKTsKICAgIHZhciBzZWFyY2hCeSA9IHJvdXRlLnF1ZXJ5LnF1ZXJ5ID8gcmVmKFN0cmluZyhyb3V0ZS5xdWVyeS5xdWVyeSkpIDogcmVmKCcnKTsKICAgIHZhciBtb2RlbHMgPSByZWYoW10pOwogICAgdmFyIHZlcnNpb25zID0gcmVmKFtdKTsKICAgIHZhciBzZWxlY3RlZEJyYW5kID0gcmVmKHsKICAgICAgbmFtZTogJycsCiAgICAgIHZhbDogJycKICAgIH0pOwogICAgdmFyIHNlbGVjdGVkTW9kZWwgPSByZWYoJycpOwogICAgdmFyIHNlbGVjdGVkTGV2ZWwgPSByZWYoJycpOwoKICAgIHZhciBzZWxlY3RCcmFuZCA9IGZ1bmN0aW9uIHNlbGVjdEJyYW5kKGRhdGEsIG9uTG9hZCkgewogICAgICBzZWxlY3RlZE1vZGVsLnZhbHVlID0gJyc7CiAgICAgIHNlbGVjdGVkTGV2ZWwudmFsdWUgPSAnJzsKICAgICAgc2VsZWN0ZWROb2Rlcy52YWx1ZSA9IFtdOwogICAgICBtb2RlbHMudmFsdWUgPSBbXTsKICAgICAgdmVyc2lvbnMudmFsdWUgPSBbXTsKICAgICAgdmFyIGxhYmVsID0gb25Mb2FkID8gZGF0YSA6IGRhdGEudmFsdWU7CgogICAgICBpZiAoZGF0YSkgewogICAgICAgIHZhciBicmFuZERhdGEgPSBjYXJCcmFuZHNNb2RlbHNMZXZlbHMudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbVsnYnJhbmRfMTExJ10gPT0gbGFiZWwpIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICAgIGJyYW5kRGF0YVswXS5tb2RlbHMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBtb2RlbHMudmFsdWUucHVzaChlLm1vZGVsKTsKICAgICAgICB9KTsKICAgICAgICBzZWxlY3RlZEJyYW5kLnZhbHVlID0gewogICAgICAgICAgbmFtZTogYnJhbmREYXRhWzBdLmJyYW5kLAogICAgICAgICAgdmFsOiBicmFuZERhdGFbMF0uYnJhbmRfMTExCiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxlY3RlZEJyYW5kLnZhbHVlID0gewogICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICB2YWw6ICcnCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgdmFyIHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgcm91dGUucXVlcnksIHsKICAgICAgICBicmFuZDogbGFiZWwKICAgICAgfSk7CiAgICAgIGlmICghbGFiZWwpIGRlbGV0ZSBxdWVyeS5icmFuZDsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICB9KTsKICAgICAgc3RvcmUuY29tbWl0KE11dGF0aW9uVHlwZXMuU0VUX1NFTEVDVEVEX01PREVMUywgbW9kZWxzLnZhbHVlLnNvcnQoKSk7CiAgICAgIHN0b3JlLmNvbW1pdChNdXRhdGlvblR5cGVzLlNFVF9TRUFSQ0hfU1RSSU5HLCBzZWxlY3RlZEJyYW5kLnZhbHVlLm5hbWUpOwogICAgICBzdG9yZS5jb21taXQoTXV0YXRpb25UeXBlcy5TRVRfU0VBUkNIX01PREVMUywgJycpOwogICAgICBzdG9yZS5jb21taXQoTXV0YXRpb25UeXBlcy5TRVRfU0VMRUNURURfTEVWRUxTLCB2ZXJzaW9ucy52YWx1ZSk7CiAgICAgIHN0b3JlLmNvbW1pdChNdXRhdGlvblR5cGVzLlNFVF9TRUFSQ0hfTEVWRUxTLCAnJyk7CiAgICAgIGNvbXBvbmVudEtleS52YWx1ZSArPSAxOwogICAgfTsKCiAgICB2YXIgc2VsZWN0TW9kZWwgPSBmdW5jdGlvbiBzZWxlY3RNb2RlbChpLCBvbkxvYWQpIHsKICAgICAgc2VsZWN0ZWRMZXZlbC52YWx1ZSA9ICcnOwogICAgICB2YXIgc2VhcmNoVmFsID0gJyc7CiAgICAgIHZhciBsYWJlbCA9ICcnOwogICAgICB2ZXJzaW9ucy52YWx1ZSA9IFtdOwogICAgICBzZWxlY3RlZE5vZGVzLnZhbHVlID0gW107CgogICAgICBpZiAoaSkgewogICAgICAgIHZhciBicmFuZERhdGEgPSBjYXJCcmFuZHNNb2RlbHNMZXZlbHMudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbVsnYnJhbmQnXSA9PSBzZWxlY3RlZEJyYW5kLnZhbHVlLm5hbWUpIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICAgIGJyYW5kRGF0YVswXS5tb2RlbHMubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgY29uZGxhYmVsID0gb25Mb2FkID8gZS5tb2RlbF8xMTIgOiBlLm1vZGVsOwoKICAgICAgICAgIGlmIChjb25kbGFiZWwgPT0gaSkgewogICAgICAgICAgICBzZWFyY2hWYWwgPSBlLm1vZGVsXzExMjsKICAgICAgICAgICAgbGFiZWwgPSBlLm1vZGVsOwogICAgICAgICAgICBlLmxldmVscy5tYXAoZnVuY3Rpb24gKHZlcikgewogICAgICAgICAgICAgIHZlcnNpb25zLnZhbHVlLnB1c2godmVyLmxldmVsKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHNlbGVjdGVkTW9kZWwudmFsdWUgPSBsYWJlbDsKICAgICAgdmFyIHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgcm91dGUucXVlcnksIHsKICAgICAgICBtb2RlbDogZW5jb2RlVVJJQ29tcG9uZW50KGxhYmVsKQogICAgICB9KTsKICAgICAgaWYgKCFzZWFyY2hWYWwpIGRlbGV0ZSBxdWVyeS5tb2RlbDsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICB9KTsKICAgICAgc3RvcmUuY29tbWl0KE11dGF0aW9uVHlwZXMuU0VUX1NFQVJDSF9NT0RFTFMsIGxhYmVsKTsKICAgICAgc3RvcmUuY29tbWl0KE11dGF0aW9uVHlwZXMuU0VUX1NFTEVDVEVEX0xFVkVMUywgdmVyc2lvbnMudmFsdWUuc29ydCgpKTsKICAgICAgc3RvcmUuY29tbWl0KE11dGF0aW9uVHlwZXMuU0VUX1NFQVJDSF9MRVZFTFMsICcnKTsKICAgICAgY29tcG9uZW50S2V5LnZhbHVlICs9IDE7CiAgICB9OwoKICAgIHZhciBzZWxlY3RMZXZlbCA9IGZ1bmN0aW9uIHNlbGVjdExldmVsKHZlciwgb25Mb2FkKSB7CiAgICAgIHNlbGVjdGVkTm9kZXMudmFsdWUgPSBbXTsKICAgICAgdmFyIHZhbHVlID0gJyc7CiAgICAgIHZhciBsYWJlbCA9ICcnOwoKICAgICAgaWYgKHZlcikgewogICAgICAgIHZhciBicmFuZERhdGEgPSBjYXJCcmFuZHNNb2RlbHNMZXZlbHMudmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoaXRlbVsnYnJhbmQnXSA9PSBzZWxlY3RlZEJyYW5kLnZhbHVlLm5hbWUpIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICAgIGJyYW5kRGF0YVswXS5tb2RlbHMubWFwKGZ1bmN0aW9uIChtKSB7CiAgICAgICAgICBpZiAobS5tb2RlbCA9PSBzZWxlY3RlZE1vZGVsLnZhbHVlKSB7CiAgICAgICAgICAgIG0ubGV2ZWxzLm1hcChmdW5jdGlvbiAodikgewogICAgICAgICAgICAgIHZhciBjb25kbGFiZWwgPSBvbkxvYWQgPyB2LmxldmVsXzQwMiA6IHYubGV2ZWw7CgogICAgICAgICAgICAgIGlmIChjb25kbGFiZWwgPT0gdmVyKSB7CiAgICAgICAgICAgICAgICBsYWJlbCA9IHYubGV2ZWw7CiAgICAgICAgICAgICAgICB2YWx1ZSA9IHYubGV2ZWxfNDAyOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHNlbGVjdGVkTGV2ZWwudmFsdWUgPSBsYWJlbDsKICAgICAgc3RvcmUuY29tbWl0KE11dGF0aW9uVHlwZXMuU0VUX1NFQVJDSF9MRVZFTFMsIGxhYmVsKTsKICAgICAgdmFyIHF1ZXJ5ID0gT2JqZWN0LmFzc2lnbih7fSwgcm91dGUucXVlcnksIHsKICAgICAgICBsZXZlbDogdmFsdWUKICAgICAgfSk7CiAgICAgIGlmICghdmVyKSBkZWxldGUgcXVlcnkubGV2ZWw7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgfSk7CiAgICAgIGNvbXBvbmVudEtleS52YWx1ZSArPSAxOwogICAgfTsKCiAgICB2YXIgb25FbnRlclNlYXJjaCA9IGZ1bmN0aW9uIG9uRW50ZXJTZWFyY2goKSB7CiAgICAgIHNlbGVjdGVkTm9kZXMudmFsdWUgPSBbXTsKICAgICAgdmFyIHNlYXJjaGVkVGVybSA9IHNlYXJjaEJ5LnZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpOwogICAgICB2YXIgcXVlcnkgPSBPYmplY3QuYXNzaWduKHt9LCByb3V0ZS5xdWVyeSwgewogICAgICAgIHF1ZXJ5OiBzZWFyY2hlZFRlcm0KICAgICAgfSk7CgogICAgICBpZiAoIXNlYXJjaGVkVGVybSkgewogICAgICAgIGRlbGV0ZSBxdWVyeS5xdWVyeTsKICAgICAgfQoKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHF1ZXJ5OiBxdWVyeQogICAgICB9KTsKICAgIH07CgogICAgdmFyIG9uSW5wdXRTZWFyY2ggPSBmdW5jdGlvbiBvbklucHV0U2VhcmNoKHZhbHVlKSB7CiAgICAgIHNlYXJjaEJ5LnZhbHVlID0gdmFsdWU7CiAgICAgIGlmICghdmFsdWUpIG9uRW50ZXJTZWFyY2goKTsKICAgIH07CgogICAgdmFyIG9uQ2hlY2tEcml2ZXJCZW5lZml0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoZXZlbnQpIHsKICAgICAgICB2YXIgZm9ybURhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIEpTT04uc3RyaW5naWZ5KGNvbXBhbnlEZXRhaWxTdGF0ZS52YWx1ZS5uYW1lKSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2VtYWlsJywgSlNPTi5zdHJpbmdpZnkoY29tcGFueURldGFpbFN0YXRlLnZhbHVlLmVtYWlsKSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Bob25lTnVtYmVyJywgSlNPTi5zdHJpbmdpZnkoY29tcGFueURldGFpbFN0YXRlLnZhbHVlLnBob25lTnVtYmVyKSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FkZHJlc3MnLCBKU09OLnN0cmluZ2lmeShjb21wYW55RGV0YWlsU3RhdGUudmFsdWUuYWRkcmVzcykpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwb3N0YWxDb2RlJywgSlNPTi5zdHJpbmdpZnkoY29tcGFueURldGFpbFN0YXRlLnZhbHVlLnBvc3RhbENvZGUpKTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnY2l0eScsIEpTT04uc3RyaW5naWZ5KGNvbXBhbnlEZXRhaWxTdGF0ZS52YWx1ZS5jaXR5KSk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2xvZ28nLCBjb21wYW55RGV0YWlsU3RhdGUudmFsdWUubG9nbyk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ19tZXRob2QnLCAnUFVUJyk7CgogICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnYmVuZWZpdERyaXZlcicsICd0cnVlJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2JlbmVmaXREcml2ZXInLCAnZmFsc2UnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goQ29tcGFueUFjdGlvblR5cGVzLlVQREFURV9DT01QQU5ZQllJRCwgewogICAgICAgICAgICAgICAgICBjb21wYW55SWQ6IGNvbXBJZCwKICAgICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBvbkNoZWNrRHJpdmVyQmVuZWZpdChfeCkgewogICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGZpbHRlcldpdGhvdXREaXNjb3VudCA9IGZ1bmN0aW9uIGZpbHRlcldpdGhvdXREaXNjb3VudChldmVudCkgewogICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICB2YXIgcXVlcnkgPSBPYmplY3QuYXNzaWduKHt9LCByb3V0ZS5xdWVyeSwgewogICAgICAgICAgZGlzY291bnQ6ICd1bmRlZmluZWQnCiAgICAgICAgfSk7CiAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgcXVlcnk6IHF1ZXJ5CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF9xdWVyeSA9IE9iamVjdC5hc3NpZ24oe30sIHJvdXRlLnF1ZXJ5LCB7CiAgICAgICAgICBkaXNjb3VudDogJycKICAgICAgICB9KTsKCiAgICAgICAgZGVsZXRlIF9xdWVyeS5kaXNjb3VudDsKICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICBxdWVyeTogX3F1ZXJ5CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CgogICAgdmFyIGZpbHRlckRpc2NvdW50RGF0YSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF9pLCBfT2JqZWN0JHZhbHVlcywgYnJhbmRBcnIsIGJyYW5kRGF0YSwgX2kyLCBfT2JqZWN0JHZhbHVlczIsIG1vZGVsc0FyciwgbW9kZWxEYXRhLCBfaTMsIF9PYmplY3QkdmFsdWVzMywgbGV2ZWxzQXJyLCBsZXZlbERhdGEsIF9pNCwgX09iamVjdCR2YWx1ZXM0LCB2ZXJzaW9uQXJyLCB2ZXJEYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKGdldENhckJyYW5kc0Rpc2NvdW50LnZhbHVlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgICAgICAgZmlsdGVyRGF0YS52YWx1ZSA9IFtdOwoKICAgICAgICAgICAgICAgICAgZm9yIChfaSA9IDAsIF9PYmplY3QkdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhnZXRDYXJCcmFuZHNEaXNjb3VudC52YWx1ZS5jYXJEaXNjb3VudFJlc3BvbnNlKTsgX2kgPCBfT2JqZWN0JHZhbHVlcy5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgICAgICAgICBicmFuZEFyciA9IF9PYmplY3QkdmFsdWVzW19pXTsKICAgICAgICAgICAgICAgICAgICBicmFuZERhdGEgPSByZWFjdGl2ZSh7CiAgICAgICAgICAgICAgICAgICAgICBpZDogYnJhbmRBcnIuaWQsCiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBicmFuZEFyci5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IHVwZGF0ZURhdGFbYnJhbmRBcnIuaWRdID09ICcnIHx8IHVwZGF0ZURhdGFbYnJhbmRBcnIuaWRdID49IDAgPyB1cGRhdGVEYXRhW2JyYW5kQXJyLmlkXSA6IGJyYW5kQXJyLmRpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgZXhwYW5kYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICBpc09wZW46IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgaXNDaGVja2VkOiBzZWxlY3RlZE5vZGVzLnZhbHVlLmluY2x1ZGVzKGJyYW5kQXJyLmlkKSA/IHRydWUgOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgIHBhcmVudERpc2NvdW50OiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgbm9kZXM6IFtdCiAgICAgICAgICAgICAgICAgICAgfSk7IC8vIGxvb3AgaWYgbW9kZWxzCgogICAgICAgICAgICAgICAgICAgIGlmIChicmFuZEFyci5tb2RlbHMpIHsKICAgICAgICAgICAgICAgICAgICAgIGJyYW5kRGF0YS5leHBhbmRhYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgIGJyYW5kRGF0YS5pc09wZW4gPSBzZWxlY3RlZEJyYW5kLnZhbHVlLnZhbC50b0xvd2VyQ2FzZSgpID09IGJyYW5kRGF0YS5uYW1lLnRvTG93ZXJDYXNlKCkgPyB0cnVlIDogb3BlbmVkTm9kZXMudmFsdWUuaW5jbHVkZXMoYnJhbmRBcnIuaWQpID8gdHJ1ZSA6IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2kyID0gMCwgX09iamVjdCR2YWx1ZXMyID0gT2JqZWN0LnZhbHVlcyhicmFuZEFyci5tb2RlbHMpOyBfaTIgPCBfT2JqZWN0JHZhbHVlczIubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgICAgICAgICAgICAgICBtb2RlbHNBcnIgPSBfT2JqZWN0JHZhbHVlczJbX2kyXTsKICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxEYXRhID0gcmVhY3RpdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBtb2RlbHNBcnIuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbW9kZWxzQXJyLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IHVwZGF0ZURhdGFbbW9kZWxzQXJyLmlkXSA9PSAnJyB8fCB1cGRhdGVEYXRhW21vZGVsc0Fyci5pZF0gPj0gMCA/IHVwZGF0ZURhdGFbbW9kZWxzQXJyLmlkXSA6IG1vZGVsc0Fyci5kaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBleHBhbmRhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICBpc09wZW46IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZDogc2VsZWN0ZWROb2Rlcy52YWx1ZS5pbmNsdWRlcyhtb2RlbHNBcnIuaWQpID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudERpc2NvdW50OiBicmFuZERhdGEuZGlzY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXM6IFtdCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyBsb29wIGlmIGxldmVscwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGVsc0Fyci5sZXZlbHMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlbERhdGEuZXhwYW5kYWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxEYXRhLmlzT3BlbiA9IG9wZW5lZE5vZGVzLnZhbHVlLmluY2x1ZGVzKG1vZGVsc0Fyci5pZCkgPyB0cnVlIDogYnJhbmREYXRhLmlzT3BlbiAmJiBzZWxlY3RlZEJyYW5kLnZhbHVlLm5hbWUgPyB0cnVlIDogZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoX2kzID0gMCwgX09iamVjdCR2YWx1ZXMzID0gT2JqZWN0LnZhbHVlcyhtb2RlbHNBcnIubGV2ZWxzKTsgX2kzIDwgX09iamVjdCR2YWx1ZXMzLmxlbmd0aDsgX2kzKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsc0FyciA9IF9PYmplY3QkdmFsdWVzM1tfaTNdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxEYXRhID0gcmVhY3RpdmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogbGV2ZWxzQXJyLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBsZXZlbHNBcnIubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IHVwZGF0ZURhdGFbbGV2ZWxzQXJyLmlkXSA9PSAnJyB8fCB1cGRhdGVEYXRhW2xldmVsc0Fyci5pZF0gPj0gMCA/IHVwZGF0ZURhdGFbbGV2ZWxzQXJyLmlkXSA6IGxldmVsc0Fyci5kaXNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwYW5kYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlbjogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQ2hlY2tlZDogc2VsZWN0ZWROb2Rlcy52YWx1ZS5pbmNsdWRlcyhsZXZlbHNBcnIuaWQpID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnREaXNjb3VudDogbW9kZWxEYXRhLmRpc2NvdW50ID8gbW9kZWxEYXRhLmRpc2NvdW50IDogYnJhbmREYXRhLmRpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlczogW10KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvLyBsb29wIGlmIHZlcnNpb25zCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxldmVsc0Fyci52ZXJzaW9ucykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbERhdGEuZXhwYW5kYWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsRGF0YS5pc09wZW4gPSBicmFuZERhdGEuaXNPcGVuICYmIHNlbGVjdGVkQnJhbmQudmFsdWUubmFtZSA/IHRydWUgOiBvcGVuZWROb2Rlcy52YWx1ZS5pbmNsdWRlcyhsZXZlbHNBcnIuaWQpID8gdHJ1ZSA6IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChfaTQgPSAwLCBfT2JqZWN0JHZhbHVlczQgPSBPYmplY3QudmFsdWVzKGxldmVsc0Fyci52ZXJzaW9ucyk7IF9pNCA8IF9PYmplY3QkdmFsdWVzNC5sZW5ndGg7IF9pNCsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVyc2lvbkFyciA9IF9PYmplY3QkdmFsdWVzNFtfaTRdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlckRhdGEgPSByZWFjdGl2ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogdmVyc2lvbkFyci5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHZlcnNpb25BcnIubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50OiB1cGRhdGVEYXRhW3ZlcnNpb25BcnIuaWRdID09ICcnIHx8IHVwZGF0ZURhdGFbdmVyc2lvbkFyci5pZF0gPj0gMCA/IHVwZGF0ZURhdGFbdmVyc2lvbkFyci5pZF0gOiB2ZXJzaW9uQXJyLmRpc2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDaGVja2VkOiBzZWxlY3RlZE5vZGVzLnZhbHVlLmluY2x1ZGVzKHZlcnNpb25BcnIuaWQpID8gdHJ1ZSA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RGlzY291bnQ6IGxldmVsRGF0YS5kaXNjb3VudCA/IGxldmVsRGF0YS5kaXNjb3VudCA6IG1vZGVsRGF0YS5kaXNjb3VudCA/IG1vZGVsRGF0YS5kaXNjb3VudCA6IGJyYW5kRGF0YS5kaXNjb3VudAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsRGF0YS5ub2Rlcy5wdXNoKHZlckRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxEYXRhLm5vZGVzLnB1c2gobGV2ZWxEYXRhKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5kRGF0YS5ub2Rlcy5wdXNoKG1vZGVsRGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBmaWx0ZXJEYXRhLnZhbHVlLnB1c2goYnJhbmREYXRhKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgZmlsdGVyRGF0YS52YWx1ZSA9IFtdOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyRGlzY291bnREYXRhKCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciBzb3J0SWNvbiA9IGZ1bmN0aW9uIHNvcnRJY29uKHZhbHVlKSB7CiAgICAgIHZhciBpY29uID0gJ2RlZmF1bHQtaWNvbiAnOwoKICAgICAgaWYgKHJvdXRlLnF1ZXJ5Lm9yZGVyQnkgJiYgcm91dGUucXVlcnkub3JkZXIpIHsKICAgICAgICBpZiAocm91dGUucXVlcnkub3JkZXJCeSA9PT0gdmFsdWUpIHsKICAgICAgICAgIGljb24gKz0gcm91dGUucXVlcnkub3JkZXIgPT09ICdhc2MnID8gJ3NvcnQtYXNjJyA6ICdzb3J0LWRlc2MnOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGljb247CiAgICB9OwoKICAgIHZhciBzb3J0QnkgPSBmdW5jdGlvbiBzb3J0QnkodmFsdWUpIHsKICAgICAgc29ydE9yZGVyLnZhbHVlID0gc29ydE9yZGVyLnZhbHVlID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnOwogICAgICB2YXIgcXVlcnkgPSBPYmplY3QuYXNzaWduKHt9LCByb3V0ZS5xdWVyeSwgewogICAgICAgIG9yZGVyQnk6IHZhbHVlLAogICAgICAgIG9yZGVyOiBzb3J0T3JkZXIudmFsdWUKICAgICAgfSk7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgfSk7CiAgICB9OwoKICAgIHZhciBzZWxlY3RBbGxDaGVja2JveCA9IGZ1bmN0aW9uIHNlbGVjdEFsbENoZWNrYm94KCRldmVudCkgewogICAgICBzZWxlY3RlZE5vZGVzLnZhbHVlID0gW107CgogICAgICBpZiAoJGV2ZW50LnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgZm9yICh2YXIgX2k1ID0gMCwgX09iamVjdCR2YWx1ZXM1ID0gT2JqZWN0LnZhbHVlcyhnZXRDYXJCcmFuZHNEaXNjb3VudC52YWx1ZS5jYXJEaXNjb3VudFJlc3BvbnNlKTsgX2k1IDwgX09iamVjdCR2YWx1ZXM1Lmxlbmd0aDsgX2k1KyspIHsKICAgICAgICAgIHZhciBkYXRhID0gX09iamVjdCR2YWx1ZXM1W19pNV07CiAgICAgICAgICBzZWxlY3RlZE5vZGVzLnZhbHVlLnB1c2goZGF0YS5pZCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmaWx0ZXJEaXNjb3VudERhdGEoKTsKICAgIH07CgogICAgdmFyIHNhdmVEaXNjb3VudCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoZGF0YSkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goRGlzY291bnRzQWN0aW9uVHlwZXMuVVBEQVRFX0RJU0NPVU5UUywgewogICAgICAgICAgICAgICAgICBjb21wYW55SWQ6IGNvbXBJZCwKICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGlmIChzZXREaXNjb3VudFJlc3BvbnNlLnZhbHVlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgICAgICAgZmlsdGVyRGlzY291bnREYXRhKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBzYXZlRGlzY291bnQoX3gyKSB7CiAgICAgICAgcmV0dXJuIF9yZWYzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGRlbGV0ZURpc2NvdW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChkYXRhKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaChEaXNjb3VudHNBY3Rpb25UeXBlcy5ERUxFVEVfRElTQ09VTlRTLCB7CiAgICAgICAgICAgICAgICAgIGNvbXBhbnlJZDogY29tcElkLAogICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgaWYgKHNldERpc2NvdW50UmVzcG9uc2UudmFsdWUuc3RhdHVzID09ICdzdWNjZXNzJykgewogICAgICAgICAgICAgICAgICBmaWx0ZXJEaXNjb3VudERhdGEoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGV0ZURpc2NvdW50KF94MykgewogICAgICAgIHJldHVybiBfcmVmNC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHZhciByZXNldEFsbERpc2NvdW50ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWY1ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKERpc2NvdW50c0FjdGlvblR5cGVzLlJFU0VUX0RJU0NPVU5UUywgewogICAgICAgICAgICAgICAgICBjb21wYW55SWQ6IGNvbXBJZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGlmIChzZXREaXNjb3VudFJlc3BvbnNlLnZhbHVlLnN0YXR1cyA9PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSA9IHt9OwogICAgICAgICAgICAgICAgICBmaWx0ZXJEaXNjb3VudERhdGEoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlc2V0QWxsRGlzY291bnQoKSB7CiAgICAgICAgcmV0dXJuIF9yZWY1LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH07CiAgICB9KCk7CgogICAgdmFyIGNvbnZlcnRUb051bWJlckFuZEZsb2F0ID0gZnVuY3Rpb24gY29udmVydFRvTnVtYmVyQW5kRmxvYXQoc2VsZWN0ZWRPcHRpb24pIHsKICAgICAgcmV0dXJuIHNlbGVjdGVkT3B0aW9uLnJlcGxhY2UoLywvZywgJy4nKTsKICAgIH07CgogICAgdmFyIG9uU2hvd0Rpc2NvdW50SW5wdXQgPSBmdW5jdGlvbiBvblNob3dEaXNjb3VudElucHV0KGlkKSB7CiAgICAgIHNob3dJbnB1dEJveC52YWx1ZSA9IHBhcnNlSW50KGlkKTsKICAgIH07CgogICAgdmFyIG9uRGlzY291bnRJbnB1dENoYW5nZSA9IGZ1bmN0aW9uIG9uRGlzY291bnRJbnB1dENoYW5nZSh2YWx1ZSkgewogICAgICB0bXBEaXNjb3VudC52YWx1ZSA9IGNvbnZlcnRUb051bWJlckFuZEZsb2F0KHZhbHVlKTsKICAgIH07CgogICAgdmFyIHNhdmVEaXNjb3VudElucHV0ID0gZnVuY3Rpb24gc2F2ZURpc2NvdW50SW5wdXQobm9kZSkgewogICAgICBzaG93SW5wdXRCb3gudmFsdWUgPSAwOwoKICAgICAgaWYgKHRtcERpc2NvdW50LnZhbHVlKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBwZXJjZW50YWdlOiB0bXBEaXNjb3VudC52YWx1ZSwKICAgICAgICAgIGNhckRpc2NvdW50SWRzOiBbcGFyc2VJbnQobm9kZS5pZCldCiAgICAgICAgfTsKICAgICAgICB1cGRhdGVEYXRhW25vZGUuaWRdID0gdG1wRGlzY291bnQudmFsdWU7CiAgICAgICAgc2F2ZURpc2NvdW50KGRhdGEpOwogICAgICB9IGVsc2UgewogICAgICAgIHVwZGF0ZURhdGFbbm9kZS5pZF0gPSAnJzsKICAgICAgICBkZWxldGVEaXNjb3VudCh7CiAgICAgICAgICBjYXJEaXNjb3VudFBlcmNlbnRhZ2VJZHM6IFtwYXJzZUludChub2RlLmlkKV0KICAgICAgICB9KTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgb25Ob2RlRXhwYW5kID0gZnVuY3Rpb24gb25Ob2RlRXhwYW5kKG5vZGUpIHsKICAgICAgaWYgKG5vZGUuZXhwYW5kYWJsZSkgbm9kZS5pc09wZW4gPSAhbm9kZS5pc09wZW47CiAgICAgIGlmIChvcGVuZWROb2Rlcy52YWx1ZS5pbmRleE9mKG5vZGUuaWQpID09PSAtMSkgb3BlbmVkTm9kZXMudmFsdWUucHVzaChub2RlLmlkKTtlbHNlIG9wZW5lZE5vZGVzLnZhbHVlLnNwbGljZShvcGVuZWROb2Rlcy52YWx1ZS5pbmRleE9mKG5vZGUuaWQpLCAxKTsKICAgIH07CgogICAgdmFyIG9uVG9nZ2xlQ2hlY2tib3ggPSBmdW5jdGlvbiBvblRvZ2dsZUNoZWNrYm94KCRldmVudCwgbm9kZSkgewogICAgICBzaG93SW5wdXRCb3gudmFsdWUgPSAwOwogICAgICB0bXBEaXNjb3VudC52YWx1ZSA9ICcnOwogICAgICBub2RlLmlzQ2hlY2tlZCA9ICFub2RlLmlzQ2hlY2tlZDsKCiAgICAgIGlmICgkZXZlbnQudGFyZ2V0LmNoZWNrZWQgJiYgc2VsZWN0ZWROb2Rlcy52YWx1ZS5pbmRleE9mKG5vZGUuaWQpID09PSAtMSkgewogICAgICAgIHNlbGVjdGVkTm9kZXMudmFsdWUucHVzaChub2RlLmlkKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxlY3RlZE5vZGVzLnZhbHVlLnNwbGljZShzZWxlY3RlZE5vZGVzLnZhbHVlLmluZGV4T2Yobm9kZS5pZCksIDEpOwogICAgICB9CiAgICB9OwoKICAgIHZhciBzaG93RWRpdFBvcHVwID0gZnVuY3Rpb24gc2hvd0VkaXRQb3B1cCgpIHsKICAgICAgc2hvd0lucHV0Qm94LnZhbHVlID0gMDsKICAgICAgdG1wRGlzY291bnQudmFsdWUgPSAnJzsKICAgICAgc2hvd1BvcFVwLnZhbHVlID0gdHJ1ZTsKICAgIH07CgogICAgdmFyIG9uRWRpdERpc2NvdW50U2F2ZSA9IGZ1bmN0aW9uIG9uRWRpdERpc2NvdW50U2F2ZSgpIHsKICAgICAgaWYgKHRtcERpc2NvdW50LnZhbHVlICYmIHNlbGVjdGVkTm9kZXMudmFsdWUubGVuZ3RoKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICBwZXJjZW50YWdlOiB0bXBEaXNjb3VudC52YWx1ZSwKICAgICAgICAgIGNhckRpc2NvdW50SWRzOiBzZWxlY3RlZE5vZGVzLnZhbHVlCiAgICAgICAgfTsKICAgICAgICBzZWxlY3RlZE5vZGVzLnZhbHVlLm1hcChmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgIHVwZGF0ZURhdGFbaWRdID0gdG1wRGlzY291bnQudmFsdWU7CiAgICAgICAgfSk7CiAgICAgICAgc2F2ZURpc2NvdW50KGRhdGEpOwogICAgICAgIHNob3dQb3BVcC52YWx1ZSA9IGZhbHNlOwogICAgICB9CiAgICB9OwoKICAgIHZhciBoYXZlQ29uZmlybWF0aW9uUG9wdXAgPSBmdW5jdGlvbiBoYXZlQ29uZmlybWF0aW9uUG9wdXAoKSB7CiAgICAgIHNob3dQb3BVcC52YWx1ZSA9IGZhbHNlOwoKICAgICAgaWYgKHNlbGVjdGVkTm9kZXMudmFsdWUubGVuZ3RoKSB7CiAgICAgICAgc2hvd0NvbmZpcm1hdGlvblBvcHVwLnZhbHVlID0gdHJ1ZTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgaGF2ZVJlc2V0Q29uZmlybWF0aW9uUG9wdXAgPSBmdW5jdGlvbiBoYXZlUmVzZXRDb25maXJtYXRpb25Qb3B1cCgpIHsKICAgICAgcmVzZXREaXNjb3VudC52YWx1ZSA9IHRydWU7CiAgICAgIHNob3dQb3BVcC52YWx1ZSA9IGZhbHNlOwogICAgICBzaG93Q29uZmlybWF0aW9uUG9wdXAudmFsdWUgPSB0cnVlOwogICAgfTsKCiAgICB2YXIgb25SZW1vdmVEaXNjb3VudCA9IGZ1bmN0aW9uIG9uUmVtb3ZlRGlzY291bnQoKSB7CiAgICAgIHNob3dJbnB1dEJveC52YWx1ZSA9IDA7CgogICAgICBpZiAocmVzZXREaXNjb3VudC52YWx1ZSkgewogICAgICAgIHJlc2V0QWxsRGlzY291bnQoKTsKICAgICAgICBzaG93Q29uZmlybWF0aW9uUG9wdXAudmFsdWUgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZE5vZGVzLnZhbHVlLmxlbmd0aCkgewogICAgICAgIHNlbGVjdGVkTm9kZXMudmFsdWUubWFwKGZ1bmN0aW9uIChpZCkgewogICAgICAgICAgdXBkYXRlRGF0YVtpZF0gPSAnJzsKICAgICAgICB9KTsKICAgICAgICBkZWxldGVEaXNjb3VudCh7CiAgICAgICAgICBjYXJEaXNjb3VudFBlcmNlbnRhZ2VJZHM6IHNlbGVjdGVkTm9kZXMudmFsdWUKICAgICAgICB9KTsKICAgICAgICBzaG93Q29uZmlybWF0aW9uUG9wdXAudmFsdWUgPSBmYWxzZTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgaW5pdGlhbGl6ZVJlcXVlc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KHF1ZXJ5KSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU2JChfY29udGV4dDYpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ2LnByZXYgPSBfY29udGV4dDYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKERpc2NvdW50c0FjdGlvblR5cGVzLkdFVF9BTExfRElTQ09VTlRDQVJTLCB7CiAgICAgICAgICAgICAgICAgIGNvbXBhbnlJZDogY29tcElkLAogICAgICAgICAgICAgICAgICBxdWVyeTogcXVlcnkKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKEFjdGlvblR5cGVzLkdFVF9DQVJfQlJBTkRTX01PREVMUyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0aWFsaXplUmVxdWVzdChfeDQpIHsKICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB2YXIgaW5pdGlhbGl6ZUZpbHRlcnMgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHF1ZXJ5KSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChxdWVyeS5icmFuZCkgewogICAgICAgICAgICAgICAgICBzZWxlY3RCcmFuZChxdWVyeS5icmFuZCwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgICBpZiAocXVlcnkubW9kZWwpIHsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RNb2RlbChxdWVyeS5tb2RlbCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LmxldmVsKSBzZWxlY3RMZXZlbChxdWVyeS5sZXZlbCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAocXVlcnkuZGlzY291bnQpIHsKICAgICAgICAgICAgICAgICAgZmlsdGVyc0NoZWNrc1sxXS52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBpbml0aWFsaXplRmlsdGVycyhfeDUpIHsKICAgICAgICByZXR1cm4gX3JlZjcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5vcHRpb25zLnNlYXJjaFN0cmluZzsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHJvdXRlLnF1ZXJ5LmJyYW5kICYmICFzdG9yZS5zdGF0ZS5vcHRpb25zLnNlYXJjaFN0cmluZykgewogICAgICAgIHNlbGVjdEJyYW5kKCcnLCBmYWxzZSk7CiAgICAgICAgZGVsZXRlIHJvdXRlLnF1ZXJ5LmJyYW5kOwogICAgICB9CiAgICB9KTsKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLm9wdGlvbnMuc2VhcmNoTW9kZWxzOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAocm91dGUucXVlcnkubW9kZWwgJiYgIXN0b3JlLnN0YXRlLm9wdGlvbnMuc2VhcmNoTW9kZWxzKSB7CiAgICAgICAgc2VsZWN0TW9kZWwoJycsIGZhbHNlKTsKICAgICAgICBkZWxldGUgcm91dGUucXVlcnkubW9kZWw7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc3RvcmUuc3RhdGUub3B0aW9ucy5zZWFyY2hMZXZlbHM7CiAgICB9LCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChyb3V0ZS5xdWVyeS5sZXZlbCAmJiAhc3RvcmUuc3RhdGUub3B0aW9ucy5zZWFyY2hMZXZlbHMpIHNlbGVjdExldmVsKCcnLCBmYWxzZSk7CiAgICB9KTsKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJvdXRlLnF1ZXJ5OwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAocm91dGUubmFtZSA9PSAnRGlzY291bnQnKSB7CiAgICAgICAgaW5pdGlhbGl6ZVJlcXVlc3Qocm91dGUucXVlcnkpOwogICAgICAgIGlmIChyb3V0ZS5xdWVyeS5kaXNjb3VudCA9PSAndW5kZWZpbmVkJykgZmlsdGVyc0NoZWNrc1sxXS52YWx1ZSA9IHRydWU7ZWxzZSBmaWx0ZXJzQ2hlY2tzWzFdLnZhbHVlID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogICAgb25Nb3VudGVkKCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU4JChfY29udGV4dDgpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxpemVSZXF1ZXN0KHJvdXRlLnF1ZXJ5KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxpemVGaWx0ZXJzKHJvdXRlLnF1ZXJ5KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU4KTsKICAgIH0pKSk7CiAgICBvblVubW91bnRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHN0b3JlLmNvbW1pdChNdXRhdGlvblR5cGVzLlNFVF9TRUFSQ0hfU1RSSU5HLCAnJyk7CiAgICAgIHN0b3JlLmNvbW1pdChNdXRhdGlvblR5cGVzLlNFVF9TRUFSQ0hfTU9ERUxTLCAnJyk7CiAgICAgIHN0b3JlLmNvbW1pdChNdXRhdGlvblR5cGVzLlNFVF9TRUFSQ0hfTEVWRUxTLCAnJyk7CiAgICB9KTsKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGdldENhckJyYW5kc0Rpc2NvdW50LnZhbHVlOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBmaWx0ZXJEaXNjb3VudERhdGEoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc2VhcmNoQnk6IHNlYXJjaEJ5LAogICAgICBmaWx0ZXJEYXRhOiBmaWx0ZXJEYXRhLAogICAgICBmaWx0ZXJzQ2hlY2tzOiBmaWx0ZXJzQ2hlY2tzLAogICAgICBjb21wb25lbnRLZXk6IGNvbXBvbmVudEtleSwKICAgICAgZmlsdGVyZWRCcmFuZHM6IGZpbHRlcmVkQnJhbmRzLAogICAgICBmaWx0ZXJlZE1vZGVsczogZmlsdGVyZWRNb2RlbHMsCiAgICAgIGZpbHRlcmVkTGV2ZWxzOiBmaWx0ZXJlZExldmVscywKICAgICAgbW9kZWxzOiBtb2RlbHMsCiAgICAgIHZlcnNpb25zOiB2ZXJzaW9ucywKICAgICAgc2VsZWN0ZWRCcmFuZDogc2VsZWN0ZWRCcmFuZCwKICAgICAgc2VsZWN0ZWRNb2RlbDogc2VsZWN0ZWRNb2RlbCwKICAgICAgc2VsZWN0ZWRMZXZlbDogc2VsZWN0ZWRMZXZlbCwKICAgICAgc2VsZWN0TW9kZWw6IHNlbGVjdE1vZGVsLAogICAgICBzZWxlY3RCcmFuZDogc2VsZWN0QnJhbmQsCiAgICAgIHNlbGVjdExldmVsOiBzZWxlY3RMZXZlbCwKICAgICAgbG9hZGVyOiBsb2FkZXIsCiAgICAgIGNhckhlYWRpbmdzOiBjYXJIZWFkaW5ncywKICAgICAgZ2V0Q2FyQnJhbmRzRGlzY291bnQ6IGdldENhckJyYW5kc0Rpc2NvdW50LAogICAgICBjb21wYW55RGV0YWlsU3RhdGU6IGNvbXBhbnlEZXRhaWxTdGF0ZSwKICAgICAgc2hvd0lucHV0Qm94OiBzaG93SW5wdXRCb3gsCiAgICAgIHJvbGVzOiByb2xlcywKICAgICAgc2VsZWN0ZWROb2Rlczogc2VsZWN0ZWROb2RlcywKICAgICAgdG1wRGlzY291bnQ6IHRtcERpc2NvdW50LAogICAgICBzaG93UG9wVXA6IHNob3dQb3BVcCwKICAgICAgc2hvd0NvbmZpcm1hdGlvblBvcHVwOiBzaG93Q29uZmlybWF0aW9uUG9wdXAsCiAgICAgIGhhdmVSZXNldENvbmZpcm1hdGlvblBvcHVwOiBoYXZlUmVzZXRDb25maXJtYXRpb25Qb3B1cCwKICAgICAgb25JbnB1dFNlYXJjaDogb25JbnB1dFNlYXJjaCwKICAgICAgb25FbnRlclNlYXJjaDogb25FbnRlclNlYXJjaCwKICAgICAgb25DaGVja0RyaXZlckJlbmVmaXQ6IG9uQ2hlY2tEcml2ZXJCZW5lZml0LAogICAgICBmaWx0ZXJXaXRob3V0RGlzY291bnQ6IGZpbHRlcldpdGhvdXREaXNjb3VudCwKICAgICAgc29ydEljb246IHNvcnRJY29uLAogICAgICBzb3J0Qnk6IHNvcnRCeSwKICAgICAgc2VsZWN0QWxsQ2hlY2tib3g6IHNlbGVjdEFsbENoZWNrYm94LAogICAgICBvbk5vZGVFeHBhbmQ6IG9uTm9kZUV4cGFuZCwKICAgICAgb25Ub2dnbGVDaGVja2JveDogb25Ub2dnbGVDaGVja2JveCwKICAgICAgb25TaG93RGlzY291bnRJbnB1dDogb25TaG93RGlzY291bnRJbnB1dCwKICAgICAgc2F2ZURpc2NvdW50SW5wdXQ6IHNhdmVEaXNjb3VudElucHV0LAogICAgICBvbkRpc2NvdW50SW5wdXRDaGFuZ2U6IG9uRGlzY291bnRJbnB1dENoYW5nZSwKICAgICAgaGF2ZUNvbmZpcm1hdGlvblBvcHVwOiBoYXZlQ29uZmlybWF0aW9uUG9wdXAsCiAgICAgIHNob3dFZGl0UG9wdXA6IHNob3dFZGl0UG9wdXAsCiAgICAgIG9uRWRpdERpc2NvdW50U2F2ZTogb25FZGl0RGlzY291bnRTYXZlLAogICAgICBkZWxldGVEaXNjb3VudDogZGVsZXRlRGlzY291bnQsCiAgICAgIHNhdmVEaXNjb3VudDogc2F2ZURpc2NvdW50LAogICAgICBvblJlbW92ZURpc2NvdW50OiBvblJlbW92ZURpc2NvdW50CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgSW5wdXQ6IElucHV0LAogICAgSW5wdXRFbGVtZW50OiBJbnB1dEVsZW1lbnQsCiAgICBMb2FkZXI6IExvYWRlciwKICAgIENoZWNrYm94OiBDaGVja2JveCwKICAgIERyb3Bkb3duOiBEcm9wZG93biwKICAgIE1lc3NhZ2VCYXI6IE1lc3NhZ2VCYXIsCiAgICBIaWVyYXJjaHlSb3c6IEhpZXJhcmNoeVJvdywKICAgIFBvcHVwOiBQb3B1cCwKICAgIEJ1dHRvbjogQnV0dG9uLAogICAgUG9wdXBFbGVtZW50OiBQb3B1cEVsZW1lbnQKICB9Cn0pOw=="},{"version":3,"sources":["/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/tamanna/htdocs/carconfiguratorfrontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/tamanna/htdocs/carconfiguratorfrontend/src/views/Discount.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport { defineComponent, ref, reactive, computed, onMounted, watch, onUnmounted } from 'vue'\nimport Input from '@/components/UI/Input.vue'\nimport InputElement from '@/components/UI/Input.vue'\nimport Checkbox from '@/components/UI/Checkbox.vue'\nimport Button from '@/components/UI/Button.vue'\nimport Dropdown from '@/components/UI/Dropdown.vue'\nimport Popup from '@/components/UI/Popup.vue'\nimport Loader from '@/components/UI/Loader.vue'\nimport MessageBar from '@/components/UI/MessageBar.vue'\nimport HierarchyRow from '@/components/UI/HierarchyRow.vue'\nimport { DiscountsActionTypes } from '@/store/discounts/actions'\nimport { ActionTypes } from '@/store/options/actions'\nimport PopupElement from '@/components/Popup.vue'\nimport { useStore } from '@/store'\nimport { CompanyActionTypes } from '@/store/company'\nimport getCompany from '@/mixins/getCompany'\nimport { useRoute } from 'vue-router'\nimport { useRouter } from 'vue-router'\nimport { MutationTypes } from '@/store/options/mutations'\nexport default defineComponent({\n  name: 'Discount',\n  setup() {\n    const store = useStore()\n    const route = useRoute()\n    const router = useRouter()\n    const roles = computed(() => store.state.auth.currentUser?.roles)\n    const loader = computed(() => store.state.discounts.loader)\n    const componentKey = ref(0)\n    const { compId, companyDetailState } = getCompany()\n    const carBrandsModelsLevels = computed(() => store.state.options.carBrandsModelsLevels)\n    const foundBrands = computed(() => {\n      let filBrands = carBrandsModelsLevels.value\n      if (store.state.options.searchString.length > 0) {\n        filBrands = filBrands.filter(\n          (brand) =>\n            brand.brand\n              .toLowerCase()\n              .normalize('NFD')\n              .replace(/\\p{Diacritic}/gu, '')\n              .indexOf(store.state.options.searchString.toLowerCase()) !== -1\n        )\n      }\n      return filBrands\n    })\n    const filteredBrands = computed(() =>\n      foundBrands.value.map((item) => {\n        return { label: item.brand, value: item.brand_111 }\n      })\n    )\n    const filteredModels = computed(() => store.getters.filteredModels)\n    const filteredLevels = computed(() => store.getters.filteredLevels)\n    const getCarBrandsDiscount = computed(() => store.state.discounts.getCarBrandsDiscount)\n    const setDiscountResponse = computed(() => store.state.discounts.setDiscountResponse)\n    const sortOrder = ref('asc')\n    const filterData = ref([])\n    let updateData = reactive({})\n    const tmpDiscount = ref()\n    const selectedNodes = ref<Array<number>>([])\n    const openedNodes = ref([])\n    const showPopUp = ref(false)\n    const showConfirmationPopup = ref(false)\n    const resetDiscount = ref(false)\n    const showInputBox = ref(0)\n    const carHeadings = reactive([\n      { id: 'car_heading1', value: 'car_heading1', key: 'cars' },\n      { id: 'dis_heading2', value: 'dis_heading2', key: 'discount' }\n    ])\n    const filtersChecks = reactive([\n      { id: 'driver_benefit', value: false },\n      { id: 'without_discount', value: false }\n    ])\n    const searchBy = route.query.query ? ref(String(route.query.query)) : ref('')\n    const models = ref([])\n    const versions = ref([])\n    const selectedBrand = ref({ name: '', val: '' })\n    const selectedModel = ref('')\n    const selectedLevel = ref('')\n\n    const selectBrand = (data, onLoad) => {\n      selectedModel.value = ''\n      selectedLevel.value = ''\n      selectedNodes.value = []\n      models.value = []\n      versions.value = []\n      const label = onLoad ? data : data.value\n      if (data) {\n        const brandData = carBrandsModelsLevels.value.filter((item) => {\n          if (item['brand_111'] == label) return item\n        })\n        brandData[0].models.map((e) => {\n          models.value.push(e.model)\n        })\n        selectedBrand.value = { name: brandData[0].brand, val: brandData[0].brand_111 }\n      } else {\n        selectedBrand.value = { name: '', val: '' }\n      }\n\n      const query: { brand?: string } = Object.assign({}, route.query, { brand: label })\n      if (!label) delete query.brand\n      router.push({ query })\n      store.commit(MutationTypes.SET_SELECTED_MODELS, models.value.sort())\n      store.commit(MutationTypes.SET_SEARCH_STRING, selectedBrand.value.name)\n      store.commit(MutationTypes.SET_SEARCH_MODELS, '')\n      store.commit(MutationTypes.SET_SELECTED_LEVELS, versions.value)\n      store.commit(MutationTypes.SET_SEARCH_LEVELS, '')\n      componentKey.value += 1\n    }\n    const selectModel = (i, onLoad) => {\n      selectedLevel.value = ''\n      let searchVal = ''\n      let label = ''\n      versions.value = []\n      selectedNodes.value = []\n      if (i) {\n        const brandData = carBrandsModelsLevels.value.filter((item) => {\n          if (item['brand'] == selectedBrand.value.name) return item\n        })\n        brandData[0].models.map((e) => {\n          const condlabel = onLoad ? e.model_112 : e.model\n          if (condlabel == i) {\n            searchVal = e.model_112\n            label = e.model\n            e.levels.map((ver) => {\n              versions.value.push(ver.level)\n            })\n          }\n        })\n      }\n      selectedModel.value = label\n      const query: { model?: string } = Object.assign({}, route.query, { model: encodeURIComponent(label) })\n      if (!searchVal) delete query.model\n      router.push({ query })\n      store.commit(MutationTypes.SET_SEARCH_MODELS, label)\n      store.commit(MutationTypes.SET_SELECTED_LEVELS, versions.value.sort())\n      store.commit(MutationTypes.SET_SEARCH_LEVELS, '')\n      componentKey.value += 1\n    }\n    const selectLevel = (ver, onLoad) => {\n      selectedNodes.value = []\n      let value = ''\n      let label = ''\n      if (ver) {\n        const brandData = carBrandsModelsLevels.value.filter((item) => {\n          if (item['brand'] == selectedBrand.value.name) return item\n        })\n        brandData[0].models.map((m) => {\n          if (m.model == selectedModel.value) {\n            m.levels.map((v) => {\n              const condlabel = onLoad ? v.level_402 : v.level\n              if (condlabel == ver) {\n                label = v.level\n                value = v.level_402\n              }\n            })\n          }\n        })\n      }\n      selectedLevel.value = label\n      store.commit(MutationTypes.SET_SEARCH_LEVELS, label)\n      const query: { level?: string } = Object.assign({}, route.query, { level: value })\n      if (!ver) delete query.level\n      router.push({ query })\n      componentKey.value += 1\n    }\n    const onEnterSearch = () => {\n      selectedNodes.value = []\n      const searchedTerm = (searchBy.value as string).trim().toLowerCase()\n      const query: { query?: string } = Object.assign({}, route.query, { query: searchedTerm })\n      if (!searchedTerm) {\n        delete query.query\n      }\n      router.push({ query })\n    }\n    const onInputSearch = (value) => {\n      searchBy.value = value\n      if (!value) onEnterSearch()\n    }\n    const onCheckDriverBenefit = async (event) => {\n      const formData = new FormData()\n      formData.append('name', JSON.stringify(companyDetailState.value.name))\n      formData.append('email', JSON.stringify(companyDetailState.value.email))\n      formData.append('phoneNumber', JSON.stringify(companyDetailState.value.phoneNumber))\n      formData.append('address', JSON.stringify(companyDetailState.value.address))\n      formData.append('postalCode', JSON.stringify(companyDetailState.value.postalCode))\n      formData.append('city', JSON.stringify(companyDetailState.value.city))\n      formData.append('logo', companyDetailState.value.logo)\n      formData.append('_method', 'PUT')\n      if (event.target.checked) {\n        formData.append('benefitDriver', 'true')\n      } else {\n        formData.append('benefitDriver', 'false')\n      }\n      await store.dispatch(CompanyActionTypes.UPDATE_COMPANYBYID, { companyId: compId, body: formData })\n    }\n    const filterWithoutDiscount = (event) => {\n      if (event.target.checked) {\n        const query: { discount?: string } = Object.assign({}, route.query, { discount: 'undefined' })\n        router.push({ query })\n      } else {\n        const query: { discount?: string } = Object.assign({}, route.query, { discount: '' })\n        delete query.discount\n        router.push({ query })\n      }\n    }\n    const filterDiscountData = async () => {\n      if (getCarBrandsDiscount.value.status == 'success') {\n        filterData.value = []\n        for (const brandArr of Object.values(getCarBrandsDiscount.value.carDiscountResponse)) {\n          const brandData = reactive({\n            id: brandArr.id,\n            name: brandArr.name,\n            discount:\n              updateData[brandArr.id] == '' || updateData[brandArr.id] >= 0\n                ? updateData[brandArr.id]\n                : brandArr.discount,\n            expandable: false,\n            isOpen: false,\n            isChecked: selectedNodes.value.includes(brandArr.id) ? true : false,\n            parentDiscount: null,\n            nodes: []\n          })\n\n          // loop if models\n          if (brandArr.models) {\n            brandData.expandable = true\n            brandData.isOpen =\n              selectedBrand.value.val.toLowerCase() == brandData.name.toLowerCase()\n                ? true\n                : openedNodes.value.includes(brandArr.id)\n                ? true\n                : false\n            for (const modelsArr of Object.values(brandArr.models)) {\n              const modelData = reactive({\n                id: modelsArr.id,\n                name: modelsArr.name,\n                discount:\n                  updateData[modelsArr.id] == '' || updateData[modelsArr.id] >= 0\n                    ? updateData[modelsArr.id]\n                    : modelsArr.discount,\n                expandable: false,\n                isOpen: false,\n                isChecked: selectedNodes.value.includes(modelsArr.id) ? true : false,\n                parentDiscount: brandData.discount,\n                nodes: []\n              })\n\n              // loop if levels\n              if (modelsArr.levels) {\n                modelData.expandable = true\n                modelData.isOpen = openedNodes.value.includes(modelsArr.id)\n                  ? true\n                  : brandData.isOpen && selectedBrand.value.name\n                  ? true\n                  : false\n                for (const levelsArr of Object.values(modelsArr.levels)) {\n                  const levelData = reactive({\n                    id: levelsArr.id,\n                    name: levelsArr.name,\n                    discount:\n                      updateData[levelsArr.id] == '' || updateData[levelsArr.id] >= 0\n                        ? updateData[levelsArr.id]\n                        : levelsArr.discount,\n                    expandable: false,\n                    isOpen: false,\n                    isChecked: selectedNodes.value.includes(levelsArr.id) ? true : false,\n                    parentDiscount: modelData.discount ? modelData.discount : brandData.discount,\n                    nodes: []\n                  })\n\n                  // loop if versions\n                  if (levelsArr.versions) {\n                    levelData.expandable = true\n                    levelData.isOpen =\n                      brandData.isOpen && selectedBrand.value.name\n                        ? true\n                        : openedNodes.value.includes(levelsArr.id)\n                        ? true\n                        : false\n                    for (const versionArr of Object.values(levelsArr.versions)) {\n                      const verData = reactive({\n                        id: versionArr.id,\n                        name: versionArr.name,\n                        discount:\n                          updateData[versionArr.id] == '' || updateData[versionArr.id] >= 0\n                            ? updateData[versionArr.id]\n                            : versionArr.discount,\n                        isChecked: selectedNodes.value.includes(versionArr.id) ? true : false,\n                        parentDiscount: levelData.discount\n                          ? levelData.discount\n                          : modelData.discount\n                          ? modelData.discount\n                          : brandData.discount\n                      })\n\n                      levelData.nodes.push(verData)\n                    }\n                  }\n                  modelData.nodes.push(levelData)\n                }\n              }\n              brandData.nodes.push(modelData)\n            }\n          }\n          filterData.value.push(brandData)\n        }\n      } else {\n        filterData.value = []\n      }\n    }\n    const sortIcon = (value) => {\n      let icon = 'default-icon '\n      if (route.query.orderBy && route.query.order) {\n        if (route.query.orderBy === value) {\n          icon += route.query.order === 'asc' ? 'sort-asc' : 'sort-desc'\n        }\n      }\n      return icon\n    }\n    const sortBy = (value) => {\n      sortOrder.value = sortOrder.value === 'asc' ? 'desc' : 'asc'\n      const query = Object.assign({}, route.query, { orderBy: value, order: sortOrder.value })\n      router.push({ query })\n    }\n    const selectAllCheckbox = ($event) => {\n      selectedNodes.value = []\n      if ($event.target.checked) {\n        for (const data of Object.values(getCarBrandsDiscount.value.carDiscountResponse)) {\n          selectedNodes.value.push(data.id)\n        }\n      }\n      filterDiscountData()\n    }\n    const saveDiscount = async (data) => {\n      await store.dispatch(DiscountsActionTypes.UPDATE_DISCOUNTS, { companyId: compId, data: data })\n      if (setDiscountResponse.value.status == 'success') {\n        filterDiscountData()\n      }\n    }\n    const deleteDiscount = async (data) => {\n      await store.dispatch(DiscountsActionTypes.DELETE_DISCOUNTS, { companyId: compId, data: data })\n      if (setDiscountResponse.value.status == 'success') {\n        filterDiscountData()\n      }\n    }\n    const resetAllDiscount = async () => {\n      await store.dispatch(DiscountsActionTypes.RESET_DISCOUNTS, { companyId: compId })\n      if (setDiscountResponse.value.status == 'success') {\n        updateData = {}\n        filterDiscountData()\n      }\n    }\n    const convertToNumberAndFloat = (selectedOption) => {\n      return selectedOption.replace(/,/g, '.')\n    }\n    const onShowDiscountInput = (id) => {\n      showInputBox.value = parseInt(id)\n    }\n    const onDiscountInputChange = (value) => {\n      tmpDiscount.value = convertToNumberAndFloat(value)\n    }\n    const saveDiscountInput = (node) => {\n      showInputBox.value = 0\n      if (tmpDiscount.value) {\n        const data = {\n          percentage: tmpDiscount.value,\n          carDiscountIds: [parseInt(node.id)]\n        }\n        updateData[node.id] = tmpDiscount.value\n        saveDiscount(data)\n      } else {\n        updateData[node.id] = ''\n        deleteDiscount({ carDiscountPercentageIds: [parseInt(node.id)] })\n      }\n    }\n    const onNodeExpand = (node) => {\n      if (node.expandable) node.isOpen = !node.isOpen\n      if (openedNodes.value.indexOf(node.id) === -1) openedNodes.value.push(node.id)\n      else openedNodes.value.splice(openedNodes.value.indexOf(node.id), 1)\n    }\n    const onToggleCheckbox = ($event, node) => {\n      showInputBox.value = 0\n      tmpDiscount.value = ''\n      node.isChecked = !node.isChecked\n      if ($event.target.checked && selectedNodes.value.indexOf(node.id) === -1) {\n        selectedNodes.value.push(node.id)\n      } else {\n        selectedNodes.value.splice(selectedNodes.value.indexOf(node.id), 1)\n      }\n    }\n    const showEditPopup = () => {\n      showInputBox.value = 0\n      tmpDiscount.value = ''\n      showPopUp.value = true\n    }\n    const onEditDiscountSave = () => {\n      if (tmpDiscount.value && selectedNodes.value.length) {\n        const data = {\n          percentage: tmpDiscount.value,\n          carDiscountIds: selectedNodes.value\n        }\n        selectedNodes.value.map((id) => {\n          updateData[id] = tmpDiscount.value\n        })\n        saveDiscount(data)\n        showPopUp.value = false\n      }\n    }\n    const haveConfirmationPopup = () => {\n      showPopUp.value = false\n      if (selectedNodes.value.length) {\n        showConfirmationPopup.value = true\n      }\n    }\n    const haveResetConfirmationPopup = () => {\n      resetDiscount.value = true\n      showPopUp.value = false\n      showConfirmationPopup.value = true\n    }\n    const onRemoveDiscount = () => {\n      showInputBox.value = 0\n      if (resetDiscount.value) {\n        resetAllDiscount()\n        showConfirmationPopup.value = false\n      } else if (selectedNodes.value.length) {\n        selectedNodes.value.map((id) => {\n          updateData[id] = ''\n        })\n        deleteDiscount({ carDiscountPercentageIds: selectedNodes.value })\n        showConfirmationPopup.value = false\n      }\n    }\n    const initializeRequest = async (query) => {\n      store.dispatch(DiscountsActionTypes.GET_ALL_DISCOUNTCARS, { companyId: compId, query: query })\n      await store.dispatch(ActionTypes.GET_CAR_BRANDS_MODELS)\n    }\n    const initializeFilters = async (query) => {\n      if (query.brand) {\n        selectBrand(query.brand, true)\n        if (query.model) {\n          selectModel(query.model, true)\n          if (query.level) selectLevel(query.level, true)\n        }\n      }\n      if (query.discount) {\n        filtersChecks[1].value = true\n      }\n    }\n    watch(\n      () => store.state.options.searchString,\n      () => {\n        if (route.query.brand && !store.state.options.searchString) {\n          selectBrand('', false)\n          delete route.query.brand\n        }\n      }\n    )\n    watch(\n      () => store.state.options.searchModels,\n      () => {\n        if (route.query.model && !store.state.options.searchModels) {\n          selectModel('', false)\n          delete route.query.model\n        }\n      }\n    )\n    watch(\n      () => store.state.options.searchLevels,\n      () => {\n        if (route.query.level && !store.state.options.searchLevels) selectLevel('', false)\n      }\n    )\n\n    watch(\n      () => route.query,\n      () => {\n        if (route.name == 'Discount') {\n          initializeRequest(route.query)\n          if (route.query.discount == 'undefined') filtersChecks[1].value = true\n          else filtersChecks[1].value = false\n        }\n      }\n    )\n    onMounted(async () => {\n      await initializeRequest(route.query)\n      await initializeFilters(route.query)\n    })\n    onUnmounted(() => {\n      store.commit(MutationTypes.SET_SEARCH_STRING, '')\n      store.commit(MutationTypes.SET_SEARCH_MODELS, '')\n      store.commit(MutationTypes.SET_SEARCH_LEVELS, '')\n    })\n    watch(\n      () => getCarBrandsDiscount.value,\n      () => {\n        filterDiscountData()\n      }\n    )\n\n    return {\n      searchBy,\n      filterData,\n      filtersChecks,\n      componentKey,\n      filteredBrands,\n      filteredModels,\n      filteredLevels,\n      models,\n      versions,\n      selectedBrand,\n      selectedModel,\n      selectedLevel,\n      selectModel,\n      selectBrand,\n      selectLevel,\n      loader,\n      carHeadings,\n      getCarBrandsDiscount,\n      companyDetailState,\n      showInputBox,\n      roles,\n      selectedNodes,\n      tmpDiscount,\n      showPopUp,\n      showConfirmationPopup,\n      haveResetConfirmationPopup,\n      onInputSearch,\n      onEnterSearch,\n      onCheckDriverBenefit,\n      filterWithoutDiscount,\n      sortIcon,\n      sortBy,\n      selectAllCheckbox,\n      onNodeExpand,\n      onToggleCheckbox,\n      onShowDiscountInput,\n      saveDiscountInput,\n      onDiscountInputChange,\n      haveConfirmationPopup,\n      showEditPopup,\n      onEditDiscountSave,\n      deleteDiscount,\n      saveDiscount,\n      onRemoveDiscount\n    }\n  },\n  components: {\n    Input,\n    InputElement,\n    Loader,\n    Checkbox,\n    Dropdown,\n    MessageBar,\n    HierarchyRow,\n    Popup,\n    Button,\n    PopupElement\n  }\n})\n"],"sourceRoot":""}]}